type Mutation {
  join: JoinResult!
  register: RegisterResult!
  play(input: PlayInput!): Boolean!
}

type Query {
  users: [User!]!
  whoami: String
  ping: String!
  game(id: ID!): Game
}

type RegisterResult {
  accessToken: String!
  user: User!
}

type User {
  id: ID!
  tokenVersion: Int!
}

type JoinResult {
  gameId: ID!
  token: Token!
  next: Token!
}

input PlayInput {
  gameId: ID!
  token: Token!
  position: Position!
}

enum Token {
  O
  X
}

enum Position {
  A
  B
  C
  D
  E
  F
  G
  H
  I
}

type Game {
  id: String!
}

union GameState = GamePlaying | GameDraw | GameWon

type GamePlaying {
  id: ID!
  next: Token!
}

type GameDraw {
  id: ID!
}

type GameWon {
  id: ID!
  winner: Token!
}
