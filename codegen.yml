overwrite: true

# It also supports graphql-import syntax, so you can point
# to a single schema.graphql file that imports other files.
# https://github.com/ardatan/graphql-import
schema: "ttt-server/src/graphql/schema.graphql"
documents: "ttt-client/src/graphql/*.graphql"

generates:
  ttt-server/src/generated/graphql.ts:
    - typescript
    - typescript-resolvers

  ttt-client/src/generated/graphql.tsx:
    - typescript
    - typescript-operations
    - typescript-react-apollo

  ttt-client/src/generated/introspection-result.ts:
    # https://graphql-code-generator.com/docs/plugins/fragment-matcher
    - fragment-matcher

  ttt-server/src/generated/introspection-result.ts:
    # https://graphql-code-generator.com/docs/plugins/fragment-matcher
    - fragment-matcher

config:
  immutableTypes: true

  # see: https://github.com/dotansimha/graphql-code-generator/issues/1133
  # see: https://github.com/dotansimha/graphql-code-generator/issues/1133#issuecomment-474766729
  # see: https://graphql-code-generator.com/docs/generated-config/typescript-resolvers#usage-example-1
  useIndexSignature: true
  # see: https://graphql-code-generator.com/docs/generated-config/typescript-resolvers#noschemastitching-boolean-default-value-false
  noSchemaStitching: true
  contextType: ../context#Context

  withHOC: false
  withComponent: false
  withHooks: true
  gqlImport: "@apollo/client#gql"
  apolloReactCommonImportFrom: "@apollo/client"
  apolloReactHooksImportFrom: "@apollo/client"
